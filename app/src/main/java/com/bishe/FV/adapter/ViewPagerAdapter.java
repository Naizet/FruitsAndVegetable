package com.bishe.FV.adapter;

import java.util.List;

import com.bishe.FV.R;
import com.bishe.FV.entity.ViewPager;

import android.content.Context;
import android.support.v4.view.PagerAdapter;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ImageView;

public class ViewPagerAdapter extends PagerAdapter{

	private List<ViewPager> list;
	private Context homeFragment;

	public ViewPagerAdapter(Context homeFragment,List<ViewPager> list){
		this.homeFragment=homeFragment;
		this.list=list;
	}

	/**
	 * ???????page
	 */
	@Override
	public int getCount() {
		return Integer.MAX_VALUE;
	}

	/**
	 * ?��???????view?????????????
	 *
	 * true: ?????????????????? false:???????? view?? ?????????view
	 * object?????????????????view????instantiateItem????????
	 */
	@Override
	public boolean isViewFromObject(View arg0, Object arg1) {
		return arg0==arg1;
	}
	/**
	 * ??????BaseAdapger??getView???? ??????????????view ??????????3?????��?????viewHolder
	 */

	@Override
	public Object instantiateItem(ViewGroup container, int position) {
		View view = View.inflate(homeFragment, com.bishe.FV.R.layout.adapter_ad, null);
		ImageView imageView = (ImageView) view.findViewById(R.id.image);

		ViewPager ad = list.get(position % list.size());
		imageView.setImageResource(ad.getIconResId());

		container.addView(view);// ????????????view????viewPager??
		return view;
	}

	/**
	 * ????page position?? ??????????????page object:???????????page
	 */
	@Override
	public void destroyItem(ViewGroup container, int position, Object object) {
		container.removeView((View) object);
	}






}
